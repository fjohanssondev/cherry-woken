---
import Container from "../components/Container.astro";
import { render, type CollectionEntry } from "astro:content";

interface Props {
  menu: CollectionEntry<"menu">[];
}

const { menu } = Astro.props;
---

<Container class="px-0!">
  <div class="flex flex-col gap-8 mt-8">
    {
      menu
        .sort((a, b) => a.data.order - b.data.order)
        .map(async (section) => {
          const { Content } = await render(section);
          return (
            <section id={section.data.id}>
              <h2 class="font-medium text-lg">{section.data.title}</h2>
              <div class="menu-content mt-3">
                <Content />
              </div>
            </section>
          );
        })
    }
  </div>
</Container>

<style>
  @reference "../styles/global.css";

  .menu-content :global(ul) {
    @apply flex flex-col space-y-2 mb-4 mt-2;
  }

  .menu-content :global(ol) {
    @apply w-full;
  }

  .menu-content :global(li) {
    @apply flex justify-between;
  }

  .menu-content :global(.price) {
    @apply font-medium min-w-14;
  }
</style>
